{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst API_KEY = '43800208-301c21487611dae4b6f535cf2';\n\nexport const getImagesByQuery = query => {\n  return axios.get('', {\n    params: {\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  });\n};\n","const loaderEl = document.querySelector('.loader');\nconst galleryEl = document.querySelector('.gallery');\n\nexport const createGallery = images => {\n  return images\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n      <a href=\"${largeImageURL}\">\n      <div class=\"image-wrapper\">\n      <img class=\"gallery-item-photo\" src=\"${webformatURL}\" alt=\"${tags}\">\n      </div>\n      </a>\n      <div class=\"stats\">\n      <span class=\"stats-item\">\n      <p>Likes</p>\n      <p>${likes}</p>\n      </span>\n      <span class=\"stats-item\">\n      <p>Views</p>\n      <p>${views}</p>\n      </span>\n      <span class=\"stats-item\">\n      <p>Comments</p>\n      <p>${comments}</p>\n      </span>\n      <span class=\"stats-item\">\n      <p>Downloads</p>\n      <p>${downloads}</p>\n      </span>\n      </div>\n    </li>`;\n      }\n    )\n    .join('');\n};\n\nexport const clearGallery = () => {\n  galleryEl.innerHTML = '';\n};\n\nexport const showLoader = () => {\n  loaderEl.classList.remove('is-hidden');\n};\n\nexport const hideLoader = () => {\n  loaderEl.classList.add('is-hidden');\n};\n","import { getImagesByQuery } from './js/pixabay-api';\nimport { createGallery } from './js/render-functions';\nimport { clearGallery } from './js/render-functions';\nimport { showLoader } from './js/render-functions';\nimport { hideLoader } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n// import { lightbox } from './js/render-functions';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryEl = document.querySelector('.gallery');\nconst searchFormEl = document.querySelector('.search-form');\nconst searchBtn = searchFormEl.querySelector('button[type=\"submit\"]');\nlet lightbox;\n\nconst onSearchFormSubmit = evt => {\n  evt.preventDefault();\n  clearGallery();\n  const searchQuery = evt.target.elements.searchText.value.trim();\n\n  if (!searchQuery) {\n    iziToast.warning({\n      message: 'Please enter a search term!',\n      position: 'topRight',\n      transitionIn: 'fadeInLeft',\n      transitionOut: 'fadeOutRight',\n      timeout: 3000,\n    });\n    return;\n  }\n\n  searchBtn.disabled = true;\n  showLoader();\n\n  getImagesByQuery(searchQuery)\n    .then(data => {\n      if (!data.data.hits.length) {\n        return Promise.reject(\n          new Error(\n            'Sorry, there are no images matching your search query. Please try again!'\n          )\n        );\n      }\n      return data.data.hits;\n    })\n    .then(photos => {\n      iziToast.success({\n        message: 'Successfully found images!',\n        position: 'topRight',\n        transitionIn: 'fadeInLeft',\n        transitionOut: 'fadeOutRight',\n        timeout: 3000,\n      });\n\n      galleryEl.insertAdjacentHTML('beforeend', createGallery(photos));\n\n      if (!lightbox) {\n        lightbox = new SimpleLightbox('.gallery a', {\n          captionsData: 'alt',\n          captionsDelay: 250,\n        });\n      }\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      iziToast.error({\n        message: error.message,\n        position: 'topRight',\n        transitionIn: 'fadeInLeft',\n        transitionOut: 'fadeOutRight',\n        timeout: 3000,\n      });\n      console.error('Axios error:', error);\n    })\n    .finally(() => {\n      searchBtn.disabled = false;\n      hideLoader();\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["axios","API_KEY","getImagesByQuery","query","loaderEl","galleryEl","createGallery","images","largeImageURL","webformatURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","searchFormEl","searchBtn","lightbox","onSearchFormSubmit","evt","searchQuery","iziToast","data","photos","SimpleLightbox","error"],"mappings":"owBAEAA,EAAM,SAAS,QAAU,2BAEzB,MAAMC,EAAU,qCAEHC,EAAmBC,GACvBH,EAAM,IAAI,GAAI,CACnB,OAAQ,CACN,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,ECfGC,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAY,SAAS,cAAc,UAAU,EAEtCC,EAAgBC,GACpBA,EACJ,IACC,CAAC,CACC,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,iBACEN,CAAa;AAAA;AAAA,6CAEeC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAM5DC,CAAK;AAAA;AAAA;AAAA;AAAA,WAILC,CAAK;AAAA;AAAA;AAAA;AAAA,WAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,WAIRC,CAAS;AAAA;AAAA;AAAA,UAKf,EACA,KAAK,EAAE,EAGCC,EAAe,IAAM,CAChCV,EAAU,UAAY,EACxB,EAEaW,EAAa,IAAM,CAC9BZ,EAAS,UAAU,OAAO,WAAW,CACvC,EAEaa,EAAa,IAAM,CAC9Bb,EAAS,UAAU,IAAI,WAAW,CACpC,EC5CMC,EAAY,SAAS,cAAc,UAAU,EAC7Ca,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAYD,EAAa,cAAc,uBAAuB,EACpE,IAAIE,EAEJ,MAAMC,EAAqBC,GAAO,CAChCA,EAAI,eAAc,EAClBP,IACA,MAAMQ,EAAcD,EAAI,OAAO,SAAS,WAAW,MAAM,OAEzD,GAAI,CAACC,EAAa,CAChBC,EAAS,QAAQ,CACf,QAAS,8BACT,SAAU,WACV,aAAc,aACd,cAAe,eACf,QAAS,GACf,CAAK,EACD,MACD,CAEDL,EAAU,SAAW,GACrBH,IAEAd,EAAiBqB,CAAW,EACzB,KAAKE,GACCA,EAAK,KAAK,KAAK,OAObA,EAAK,KAAK,KANR,QAAQ,OACb,IAAI,MACF,0EACD,CACX,CAGK,EACA,KAAKC,GAAU,CACdF,EAAS,QAAQ,CACf,QAAS,6BACT,SAAU,WACV,aAAc,aACd,cAAe,eACf,QAAS,GACjB,CAAO,EAEDnB,EAAU,mBAAmB,YAAaC,EAAcoB,CAAM,CAAC,EAE1DN,IACHA,EAAW,IAAIO,EAAe,aAAc,CAC1C,aAAc,MACd,cAAe,GACzB,CAAS,GAGHP,EAAS,QAAO,CACtB,CAAK,EACA,MAAMQ,GAAS,CACdJ,EAAS,MAAM,CACb,QAASI,EAAM,QACf,SAAU,WACV,aAAc,aACd,cAAe,eACf,QAAS,GACjB,CAAO,EACD,QAAQ,MAAM,eAAgBA,CAAK,CACzC,CAAK,EACA,QAAQ,IAAM,CACbT,EAAU,SAAW,GACrBF,GACN,CAAK,CACL,EAEAC,EAAa,iBAAiB,SAAUG,CAAkB"}